package com.onlinemarket.dao;

import org.springframework.jdbc.core.namedparam.MapSqlParameterSource;
import org.springframework.stereotype.Component;

import com.onlinemarket.dao.CreatePhoneDao.SqlParams;
import com.onlinemarket.entity.CatagoryType;
import com.onlinemarket.entity.Customers;
import com.onlinemarket.entity.Phones;

@Component
public class CreateNewCustomerDao implements CreateNewCustomerDaoInterface {
	
@Override
	public Customers createNewCustomer(String customerId, String firstName, String lastName, int phoneNumber) {
	
		
	String sql= " INSERT INTO customers ( " 
			   + "  customer_id, First_name, last_name, "
			   + "   phone_ "
			   +    " ) "
			   + " VALUES  ( :customer_id, :first_name, :last_name,"
			   + " :phone "
			   + " ) "	;	
	//@formtter on
	
	 SqlParams params = new SqlParams();
	    
	    params.sql = sql;
	    params.source.addValue("customer_id", customerId );
	    params.source.addValue("First_name", firstName);
	    params.source.addValue("last_name", lastName);
	    params.source.addValue("phone",phoneNumber);
	   // params.source.addValue("catagory", null);
	    
	   
	    
	    jdbcTemplate.update(params.sql,params.source);
	    
	    
	    return Phones.builder()
	    		.phoneId(phoneId)
	    		.phoneColor(phoneColor)
	    		.phoneMemory(phoneMemory)
	    		.price(price)
	    		.catagory(CatagoryType.valueOf("ELECTRONICS"))
	    		.build();		

}


class SqlParams{
	String sql;
	MapSqlParameterSource source = new MapSqlParameterSource();
   

 }
	
	
	
	
	

}
